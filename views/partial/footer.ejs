
<!-- 
	Ttitle : Tis is footer file
	Author: MD Jahangri alam
	Description: 
	Date: 13 October 2022
 -->



<!-- 

        <script>
			let x = document.getElementById("login")
			let y = document.getElementById("register")
			let z= document.getElementById("btn")
			let close = document.getElementById("close")
			let closeBtn = document.getElementById("close_popup")
			let userRegister = document.getElementById("user_register")


			closeBtn.addEventListener('click', () => {
				close.style.display = "none"
			})
			userRegister.addEventListener('click', () => {
				close.style.display = "block"
			})
			// c.style.display = "none"
			

			function register(){
				x.style.left = "-400px";
				y.style.left = "50px";
				z.style.left = "110px"
			}

			function login(){
				x.style.left = "50px";
				y.style.left = "450px";
				z.style.left = "0px"
			}
		</script>

		<script>

			const submit = async () =>{
				let username = document.getElementById('username')
				let email = document.getElementById('email')
				let password = document.getElementById('password')
				let confirmPassword = document.getElementById('confirmPassword')

				let usernaem_error = document.getElementById('username-error')
				let email_error = document.getElementById('email-error')
				let password_error = document.getElementById('password-error')
				let confirpass_error = document.getElementById('confirmpassword-error')

				let close = document.getElementById("close")
				
				try {
					let value = await {
					username: username.value,
					email:email.value,
					password: password.value,
					confirmPassword: confirmPassword.value
				}
					let sumbitUrl =await genarateReques('http://localhost:8080/auth/signup','POST', value)
					
					fetch(sumbitUrl)

					.then((res) => {
						
					return res.json()
				})
				.then(res => {
					
					if(!res.error){
						close.style.display = 'none';
					}else{
						for(let i = 0; i < res.error.length; i++){
						switch (res.error[i].param) {
						case 'username':
							console.log(res.error[i].msg)
							username.classList.add('is-invalid')
							usernaem_error.style.display = 'none'
							break;
						case "email":
							console.log(res.error[i].msg)
							email.classList.add('is-invalid')
							email_error.innerHTML= res.error[i].msg
							break;
						case "password":
							console.log(res.error[i].msg, "password")
							password.classList.add('is-invalid')
							password_error.innerText= res.error[i].msg
							break;
						case "confirmPassword":
							console.log(res.error[i].msg)
							confirmPassword.classList.add('is-invalid')
							confirpass_error.innerText= res.error[i].msg
							break;
						default:
							break;
					}
					}
					}

				})
				.catch((err) =>{
					console.log(err)
				})
				} catch (error) {
					console.log(error)
				}
			}

			

			function genarateReques(url, method, data) {
			let headers = new Headers()
					headers.append('Accept', 'Application/JSON')
					headers.append('Content-Type', 'Application/JSON')

				let request = new Request(url, {
					method,
					body:  JSON.stringify(data),
					headers,
					mode: 'cors',


					

				})

				return request
				
			}
		</script>
		<!-- Register form Start -->

        <!-- JavaScript Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>

<script src="/public/scripting/FrontendModule.js"></script>
    
</body>
</html>